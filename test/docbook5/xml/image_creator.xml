<!-- Converted by db4-upgrade version 1.1 -->

<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xi="http://www.w3.org/2001/XInclude" version="5.0" xml:id="cha.imgcreator">
  <title>Creating Images with YaST Image Creator</title>
  <sect1 xml:id="sec.img.create">
    <title>Creating Images</title>
    <para>
   To create an image of a product, proceed as follows:
  </para>
    <procedure>
      <step>
        <para>
     Start YaST and open the <guimenu>Image Creator</guimenu> module.
    </para>
      </step>
      <step>
        <para>
     The window shows a list of all existing images configuration. You may
     <guimenu>Edit</guimenu> or <guimenu>Delete</guimenu> them. Choose
     <guimenu>Add</guimenu> to create a new one.
    </para>
      </step>
      <step>
        <para>
     Enter the name for the new <guimenu>Kiwi Configuration</guimenu>, and
     choose whether you want to begin from scratch, or base on existing
     KIWI configuration. In the latter case, provide a path to the
     existing KIWI configuration so that Image Creator can import it.
    </para>
      </step>
      <step>
        <para>
     Choose the image type you need to build. There are several options -
     <guimenu>Live ISO Image</guimenu>, <guimenu>Xen Image</guimenu>, or
     <guimenu>Virtual Disk Image</guimenu>.
    </para>
      </step>
      <step>
        <para>
     Select the output directory where you want to store the KIWI
     configuration.
    </para>
      </step>
      <step>
        <para>
     If you are running Image Creator on a 64-bit architecture, you can force
     KIWI to configure the image for 32-bit architecture, and, moreover,
     limit it to i586 only.
    </para>
      </step>
      <step>
        <para>
     Add the list of package repositories you need to use for your KIWI
     configuration. Click <guimenu>Add</guimenu> to add a new repository, or
     <guimenu>Add from System</guimenu> to add repositories that are
     configured in the system where Image Creator is running. If you need to
     modify details of an existing repository, select it and click
     <guimenu>Edit</guimenu>. To remove an unneeded repository, select it
     and click <guimenu>Delete</guimenu>.
    </para>
        <para>
     Proceed with <guimenu>Next</guimenu>.
    </para>
        <figure xml:id="fig.imgcreator.repos">
          <title>Editing Repository in Image Creator</title>
          <mediaobject>
            <imageobject role="fo">
              <imagedata fileref="image_creator.png" width="100%"/>
            </imageobject>
            <imageobject role="html">
              <imagedata fileref="image_creator.png" width="100%"/>
            </imageobject>
          </mediaobject>
        </figure>
      </step>
      <step>
        <para>
     There are four tabs in the next screen. Here you can set more
     configuration options supported by KIWI to fine-tune the resulting
     image.
    </para>
        <para>
     In the <guimenu>Image Configuration</guimenu> tab, you can set the
     image version and size, and then modify the software selection for the
     image in detail. You can specify patterns/packages for three package
     sections: packages included on the image, in the bootstrap, as well as
     packages intended to be deleted from the image.
    </para>
        <figure xml:id="fig.imgcreator.tabs">
          <title>KIWI Detailed Configuration in Image Creator</title>
          <mediaobject>
            <imageobject role="fo">
              <imagedata fileref="image_creator_tabs.png" width="100%"/>
            </imageobject>
            <imageobject role="html">
              <imagedata fileref="image_creator_tabs.png" width="100%"/>
            </imageobject>
          </mediaobject>
        </figure>
        <para>
     To change the list of packages and/or patterns intended for
     installation (or for ignoring), click <guimenu>Change</guimenu> and
     <guimenu>YaST Package Selector</guimenu> opens, where you can make
     your selection.
    </para>
        <para>
     In the <guimenu>Description</guimenu> tab, fill in information about
     the author of the image, description, and the locale settings.
    </para>
        <para>
     The <guimenu>Users</guimenu> tab lets you add new users who should be
     available on the target system.
    </para>
        <para>
     Next, you can edit the configuration <guimenu>Scripts</guimenu> used to
     build your image.
    </para>
        <para>
     Lastly, configure the directory with system configuration and scripts
     in the <guimenu>Directories</guimenu> tab.
    </para>
      </step>
      <step>
        <para>
     After you finish configuring the image, click <guimenu>Finish</guimenu>
     to build it. YaST asks you to confirm your choice. If you decline,
     the configuration will be saved, and you are returned to the overview
     screen. If you confirm the build, KIWI is started, and you can see a
     progress window showing the KIWI log file.
    </para>
        <para>
     If the image is successfully built, it is saved to the output directory
     specified earlier.
    </para>
      </step>
    </procedure>
  </sect1>
</chapter>
