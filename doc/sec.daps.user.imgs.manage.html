<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>DAPS Commands for Managing Images</title><meta name="generator" content="DocBook XSL Stylesheets V1.79.0" /><meta name="keywords" content="DAPS, DocBook Authoring and Publishing Suite, DocBook, XML, Toolchain, User Guide" /><meta name="keywords" content="DAPS, DocBook Authoring and Publishing Suite, DocBook, XML, Tool chain, Command Line" /><link rel="home" href="index.html" title="DAPS Documentation" /><link rel="up" href="cha.daps.user.img.html" title="Chapter 5. Image Handling" /><link rel="prev" href="sec.daps.user.imgs.refer.html" title="Referencing Images" /><link rel="next" href="cha.daps.user.modular.html" title="Chapter 6. Modularizing Documentation Projects" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">DAPS Commands for Managing Images</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="sec.daps.user.imgs.refer.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Image Handling</th><td width="20%" align="right"> <a accesskey="n" href="cha.daps.user.modular.html">Next</a></td></tr></table></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sec.daps.user.imgs.manage"></a>DAPS Commands for Managing Images</h2></div></div></div><p> DAPS offers several subcommands for managing images in a
   documentation project. To find out which images are used/not used in a project or referenced
   in a DocBook file but missing from the file system, DAPS offers
   subcommands that check your project for such issues. </p><p> Apart from that, you can check your source images for non-unique names
   and reduce the size of your PNGs with an optimizer that recompresses the
   files to a smaller size. </p><div class="variablelist"><a id="vl.daps.user.imgs.manage.cmds"></a><p class="title"><strong>Subcommands for Image Listing</strong></p><dl class="variablelist"><dt><span class="term">Listing All Graphics Referenced in a Documentation Project
     </span></dt><dd><pre class="screen"><code class="prompt">tux:~&gt; </code>daps <em class="parameter"><code>-d</code></em> <em class="replaceable"><code>PATH_TO_DC_FILE</code></em> list-scrfiles --noent --noxml --nodc</pre><p> Lists all graphics used by the DocBook files that are referenced in the document
      specified by the current DC file. </p></dd><dt><span class="term">
      Listing Missing Graphics in a Documentation Project</span></dt><dd><pre class="screen"><code class="prompt">tux:~&gt; </code>daps <em class="parameter"><code>-d</code></em> <em class="replaceable"><code>PATH_TO_DC_FILE</code></em> list-images-missing</pre><p> Lists all graphics that are referenced in your DocBook files, but
      could not be found in the file system. In case there are any missing
      graphics, you cannot build your project. </p></dd><dt><span class="term">Checking for Superfluous Graphics</span></dt><dd><pre class="screen"><code class="prompt">tux:~&gt; </code>daps <em class="parameter"><code>-d</code></em> <em class="replaceable"><code>PATH_TO_DC_FILE</code></em> list-scrfiles-unused --noxml</pre><p> Lists all graphics that are <span class="emphasis"><em>not</em></span> referenced in
      your DocBook files, but are available in the
       <code class="filename">images/src</code> subdirectories.  This command is useful if
      you want to clean up your source images and want to know which images are
      no longer needed for the documentation project. </p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Use a <code class="sgmltag-element">set</code> to Check for Superfluous
       Files</h3><p> If you are storing multiple DC files in the same project
       directory, use the DC file of a <code class="sgmltag-element">set</code> for this check.
       As it contains all articles and books in the project directory, this makes
       sure that any files found during the check are indeed unnecessary.
      </p></div></dd><dt><span class="term">Checking for Non-Unique Graphic File Names</span></dt><dd><pre class="screen"><code class="prompt">tux:~&gt; </code>daps <em class="parameter"><code>-d</code></em> <em class="replaceable"><code>PATH_TO_DC_FILE</code></em> list-images-multisrc</pre><p> Checks the <code class="filename">images/src</code> subdirectories for
      non-unique base names. For more information, refer to <a class="xref" href="sec.daps.user.imgs.req.html" title="File Name Requirements">the section called “File Name Requirements”</a>. </p></dd><dt><span class="term">Reducing the File Size of PNG Graphics</span></dt><dd><pre class="screen"><code class="prompt">tux:~&gt; </code>daps <em class="parameter"><code>-d</code></em> <em class="replaceable"><code>PATH_TO_DC_FILE</code></em> optipng</pre><p> Recompresses any PNG files in the
       <code class="filename">images/src/png</code> directory with the PNG optimizer
       <code class="literal">optipng</code> without reducing the image quality. </p></dd><dt><span class="term">Deleting All Generated Images for a Documentation Project</span></dt><dd><pre class="screen"><code class="prompt">tux:~&gt; </code>daps -d <em class="replaceable"><code>PATH_TO_DC_FILE</code></em> clean-images</pre><p> Deletes all images generated for a certain DC file. This is
      only necessary in rare cases, for example, when a file previously had an
      incorrect time stamp or when you have changed your global DAPS
      configuration. In that cases, DAPS might wrongly assume that an
      already generated file should be inserted into your output format when in
      reality the file should be re-generated. </p></dd><dt><span class="term">Viewing All Images Referenced in a File or Project</span></dt><dd><pre class="screen"><code class="prompt">tux:~&gt; </code>daps -d DC-daps-example getimages --show --viewer ristretto</pre><p>Opens and shows all images referenced in the documentation project in the specified image
      viewer, for example, Ristretto. Alternatively, specify your preferred image viewer in the
       <em class="parameter"><code>IMG_VIEWER</code></em> parameter in the DAPS configuration file. To show
      only the images referenced in a specific XML file, specify the file with
       <code class="option">--file</code>. </p></dd></dl></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Output of File Listings</h3><p>By default, the output of the listing commands is a list of file names
    (including the absolute path), all printed in one line with the file names
    separated by blanks. This default output format is useful for piping (or
    copying and pasting) the output for use with another command. </p><p>If you need a pretty printed output where each file name is listed on a
    separate line, use the <code class="option">--pretty</code> option. </p></div><p> See 
   <a class="xref" href="sec.daps.user.imgs.manage.html#ex.daps.graphics.output.default" title="Example 5.2. Default Output of an Image-related DAPS Command">Example 5.2, “Default Output of an Image-related DAPS Command”</a> and 
   <a class="xref" href="sec.daps.user.imgs.manage.html#ex.daps.graphics.output.pretty" title="Example 5.3. Pretty-printed Output of an Image-related DAPS Command">Example 5.3, “Pretty-printed Output of an Image-related DAPS
    Command”</a> for a comparison of both outputs.</p><div class="example"><a id="ex.daps.graphics.output.default"></a><p class="title"><strong>Example 5.2. Default Output of an Image-related DAPS Command</strong></p><div class="example-contents"><pre class="screen">
<em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/dia/example_dia1.dia <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/png/example_png1.png <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/png/example_png2.png <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/png/example_png3.png <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/svg/example_svg.svg <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/fig/example_fig1.fig ...</pre></div></div><br class="example-break" /><div class="example"><a id="ex.daps.graphics.output.pretty"></a><p class="title"><strong>Example 5.3. Pretty-printed Output of an Image-related DAPS
    Command</strong></p><div class="example-contents"><pre class="screen"><code class="prompt">tux:~&gt; </code><span class="command"><strong>daps -d <em class="replaceable"><code>PATH_TO_DC_FILE</code></em> list-images-multisrc --pretty</strong></span>
    <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/dia/example_dia1.dia
    <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/png/example_png1.png
    <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/png/example_png2.png
    <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/png/example_png3.png
    <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/svg/example_svg.svg
    <em class="replaceable"><code>YOUR_DOC_DIR</code></em>/images/src/fig/example_fig1.fig ...</pre></div></div><br class="example-break" /><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Use Pretty-Printed Output for Counting</h3><p> To count the number of images listed in a given output, you can
    also combine the <em class="parameter"><code>--pretty</code></em> parameter with the
    <span class="command"><strong>wc</strong></span> command: </p><pre class="screen"><code class="prompt">tux:~&gt; </code>daps -d <em class="replaceable"><code>PATH_TO_DC_FILE</code></em> list-images-multisrc --pretty | wc -l</pre><p> For <a class="xref" href="sec.daps.user.imgs.manage.html#ex.daps.graphics.output.pretty" title="Example 5.3. Pretty-printed Output of an Image-related DAPS Command">Example 5.3</a>, the command above would return the value
    <code class="computeroutput">5</code>
   </p></div></div><div class="navfooter"><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="sec.daps.user.imgs.refer.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="cha.daps.user.img.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="cha.daps.user.modular.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Referencing Images </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 6. Modularizing Documentation Projects</td></tr></table></div></body></html>