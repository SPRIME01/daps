<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet
 href="urn:x-daps:xslt:profiling:docbook45-profile.xsl" 
 type="text/xml"
 title="Profiling step"?>
<!DOCTYPE appendix PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.docbook.org/xml/4.5/docbookx.dtd"
[<!ENTITY % entities SYSTEM "entity-decl.ent">
%entities;
]>
<appendix id="app.daps.user.docupdates">
 <title>What's New?</title>
 <para> This chapter lists the most important <!--content -->changes <!--for this document
  -->since the release of &dapsacr; 1.0. </para>
 <para>The manual was updated on the following dates:</para>
 <!--list of xrefs, latest date sorted upmost-->
 <itemizedlist>
  <!--<listitem>
   <para>
    <xref linkend="sec.user.docupdates.20" xrefstyle="SectTitleOnPage"/>
   </para>
   </listitem>-->
    <listitem>
   <para>
    <xref linkend="sec.user.docupdates.maint1" xrefstyle="SectTitleOnPage"/>
   </para>
  </listitem>
 </itemizedlist>

 <sect1 id="sec.user.docupdates.20">
  <title>Next (&dapsacr; 2.0)</title>
  <para>&wip;</para>
  <variablelist>
   <varlistentry>
    <term>Make Files</term>
    <listitem>
     <para>
      <remark>taroth 2013-10-09: not sure if to mention this here, rather
       something for the developer guide ;)</remark>The make files have now been split into several smaller make files,
      that are specific for the respective output like PDF, or HTML.</para></listitem>
   </varlistentry>   
   <varlistentry>
    <term>Verbosity</term>
    <listitem>
     <para>The number of verbosity levels has changed, as have the defaults used
      on the command line and in scripts:
     </para>
     <itemizedlist>
      <listitem>
       <para>Command Line: Default verbosity level is now <literal>v1</literal>,
        which shows all result messages and warnings.</para>
      </listitem>
      <listitem>
       <para>Scripts: Default verbosity level is now <literal>v0</literal>,
        which shows the file names. </para></listitem>
     </itemizedlist>
     <para>The verbosity levels <literal>v0</literal>, <literal>v1</literal>,
       <literal>v2</literal>, and <literal>debug</literal> are unchanged, but a
      new verbosity level has been added: <literal>v3</literal>. It shows the
      output of <command>make -j1</command>, where all commands are executed
      successively (no parallel processing). This makes the output easier to
      read than that of the <literal>debug</literal> verbosity level, where
      messages from parallel processes are shown in the order they
      arrive.</para>     
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Bash Compatibility</term>
    <listitem>
     <para>
      <remark>taroth 2013-09-10: not sure if to mention this (probably no doc
       impact)...</remark>Whereas &dapsacr; 1.x required Bash 4, &dapsacr; 2.0 is
      compatible with Bash 3.</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Output Targets</term>
    <!--WIP-->
    <listitem>
     <itemizedlist>
      <listitem>
       <para>For a list of command name changes and deprecated commands, refer
        to <xref linkend="vle.docupd.deprec"/>.</para>
      </listitem>
      <listitem>
       <para>The &epub; output is now checked with EpubCheck, <ulink
        url="https://github.com/IDPF/epubcheck"/>.</para>
      </listitem>
      <listitem>
       <para>A new output format has been added:  <command>daps mobi </command>
        generates <filename>*.mobi</filename> files for Amazon Kindle e-books.</para>
      </listitem>
      <listitem>
       <para>HTML 4 is no longer supported. Per default,
        <command>daps html</command> now generates XHTML 1.1. HTML 5 output can
        be enforced by using the <option>--html5</option> option.</para>
      </listitem>
      <listitem>
       <para>Some commands for generating file lists (such as <command>daps
        remaininggraphics</command>) have been renamed, some are
        deprecated. For details, refer to <xref linkend="vle.docupd.deprec"/>.
       </para>
       <!-- (now: <option>list-*</option>)-->
      </listitem>
      <listitem>
       <para>For the <command>daps list-srcfiles</command> command, options are
        now available with which to exclude files from the list. For more
        details, run <command>daps help list-srcfiles</command>.</para>
      </listitem>
      <listitem>
       <para>A new packaging command is available: <command>daps
       package-src</command>. It creates a TAR archive with profiled XML
        sources, resolved entities, and images.  Use the <option>--set-date</option> to
        include the publication date.</para>
      </listitem>
      <listitem>
       <para><remark>taroth 2013-11-28: really include this? is mostly used for
        our own purposes...</remark>A new target for distributable archives has been added:
        <command>daps locdrop</command>.</para>
      </listitem>
      <listitem>
       <para>The <command>daps bigfile</command> command has changed: The
        <command>daps bigfile-reduced</command> is deprecated, use <command>daps
        bigfile</command> instead.</para>
       <!-- now does what was formerly done by bigfile-reduced-->
      </listitem>
      <listitem>
       <para>Generating page, desktop, or document files: The commands
        <command>daps package-html</command> and 
        <command>daps package-pdf</command> now have options to define which files to generate:
         <option>--documentfiles</option>, <option>--desktopfiles</option>, and
         <option>--pagefiles</option>.
       </para>
      </listitem>
      <listitem>
       <para>A new command has been added:
        <command>daps clean-package</command>. It removes all generated package
        data for a given &dc; or &main; file.</para>
      </listitem>
     </itemizedlist>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Debugging</term>
    <listitem>
     <para>A new subcommand has been added: <command>daps dapsenv</command>. It
      prints a list of the most important make variables and their value.</para></listitem>
   </varlistentry>
   <varlistentry>
    <term>Entities</term>
    <listitem>
     <para>In the profiled XML sources entities are now always resolved and
      replaced by their value.</para></listitem>
   </varlistentry>
   <varlistentry>
    <term>Well-formed XML</term>
    <listitem>
     <para>If the XML is not well-formed, &dapsacr; quits and shows a
      meaningful error message.</para></listitem>
   </varlistentry>
   <varlistentry>
    <term>Overview of All Commands</term>
    <listitem>
     <para>With <command>daps --commands</command>, you can list all available
      commands.</para></listitem>
   </varlistentry>
   <varlistentry>
    <term>Image Formats</term>
    <listitem><para>&dapsacr; now also supports JPEG as image format.</para></listitem>
   </varlistentry>
   <varlistentry>
    <term>CSS</term>
    <listitem><para>&wip;</para></listitem>
   </varlistentry>
   <varlistentry>
    <term>XSLT Processors</term>
    <listitem>
     <para>&dapsacr; now also supports the Saxon XSLT processor. Use the
      option <option>--xsltprocessor</option> to define which processor to use.
      Per default, <literal>xsltproc</literal> is used. </para></listitem>
   </varlistentry>
   <varlistentry id="vle.docupd.syntax">
    <term>XSLT Parameters: Syntax Change</term>
    <listitem>
     <para>When passing XSLT parameters (either on the command line, in scripts,
      or in &dc; files by using <literal>XSLTPARAM</literal>), you need to
      adjust the syntax when switching to &dapsacr; 2.0. Instead of </para>
     <screen>--stringparam&nbsp;<replaceable>PARAM_NAME</replaceable>&nbsp;<replaceable>VALUE</replaceable></screen>
     <para>now use:</para>
     <screen>--stringparam&nbsp;<replaceable>PARAM_NAME</replaceable><emphasis role="strong">=</emphasis><replaceable>VALUE</replaceable></screen>
     </listitem>
   </varlistentry>
   <varlistentry id="vle.docupd.deprec">
   <term>Deprecated Commands</term>
    <listitem>
     <para>The following commands are deprecated: </para>
     <itemizedlist>
      <listitem>
       <para>
        <command>&dapscmd; all</command>. Use
        <command>&dapscmd;&nbsp;pdf</command> instead.</para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; bigfile-reduced</command>. Use
        <command>&dapscmd;&nbsp;bigfile</command> instead.</para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; check</command>. Use
        <command>&dapscmd; dapsenv</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; chklink</command> . Use
        <command>&dapscmd; checklink</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; db2novdoc</command>. This command is no longer
        supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; desktop-files</command>. Use
        <command>&dapscmd;&nbsp;package-html&nbsp;--desktopfiles</command> or 
        <command>&dapscmd;&nbsp;package-pdf&nbsp;--desktopfiles</command>
	instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; desktop-files-dir-name</command>. This command is
        no longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist</command>. This command is no longer
        supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist-all</command>. This command is no longer
        supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist-book</command>. This command is no
        longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist-desktop-files</command>. This command
        is no longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist-document-files</command>. This command
        is no longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist-document-files-pdf</command>. This
        command is no longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist-graphics</command>. Use
        <command>&dapscmd;&nbsp;package-src</command> instead.</para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist-graphics-png</command>. This command is
        no longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist-html-single</command>. Use
        <command>&dapscmd;&nbsp;package-html --single</command> instead.
       </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; disthtml-single</command>. Use
        <command>&dapscmd;&nbsp;package-html --single</command> instead.
       </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; dist-xml</command>. Use
        <command>&dapscmd;&nbsp;package-src</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; document-files-dir-name</command>. This command is no longer
        supported.  </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; document-files-html</command>. Use
        <command>&dapscmd;&nbsp;package-html&nbsp;--documentfiles</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; document-files-pdf</command>. Use
        <command>&dapscmd;&nbsp;package-pdf&nbsp;--documentfiles</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; force</command>. This command is no longer
        supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; htmlsingle</command>. Use 
        <command>&dapscmd; html --single</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; htmlsingle-name</command>. Use
        <command>&dapscmd;&nbsp;html-dir-name --single</command> instead.
       </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; html-single</command>. Use 
        <command>&dapscmd;&nbsp;html --single</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; html-single-name</command>. Use
        <command>&dapscmd;&nbsp;html-dir-name --single</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; jana</command>. Use 
        <command>&dapscmd; checklink</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; link-entity-dist</command>. This command is no
        longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; missinggraphics</command>. Use
        <command>&dapscmd;&nbsp;list-images-missing</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; online-localized</command>. Use
        <command>&dapscmd;&nbsp;online-docs&nbsp;--noset</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; offspring</command>. This command is no
        longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; pdf-color</command>. Use 
        <command>&dapscmd; pdf</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; pdf-color-name</command>. Use 
        <command>&dapscmd; pdf-name</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; penguin</command>. This command is no
        longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; prof</command>. Use 
        <command>&dapscmd; profile</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; profiledir</command>. Use
        <command>&dapscmd;&nbsp;showvariable&nbsp;VARIABLE=PROFILEDIR</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; projectfiles</command>. Use
        <command>&dapscmd;&nbsp;list-srcfiles&nbsp;--noimg</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; projectgraphics</command>. Use
        <command>&dapscmd;&nbsp;list-srcfiles&nbsp;--nodc&nbsp;--noent&nbsp;--noxml</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; provide-images</command>. Use
        <command>&dapscmd;&nbsp;images --grayscale</command> instead.</para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; provide-color-images</command>. Use
        <command>&dapscmd;&nbsp;images --color</command> instead.</para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; provide-epub-images</command>. This command is no
        longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; remainingfiles</command>. Use
        <command>&dapscmd;&nbsp;list-srcfiles-unused&nbsp;--noimg</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; remaininggraphics</command>. Use
        <command>&dapscmd;&nbsp;list-srcfiles-unused&nbsp;--noxml</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; txt</command>. Use
        <command>&dapscmd; text</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; txt-name</command>. Use
        <command>&dapscmd; text-name</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; warn-images</command>. Use 
        <command>&dapscmd; list-images-multisrc</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; wiki</command>. This command is no longer supported.
       </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; wiki-name</command>. This command is no longer supported.
       </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; xmlfiles</command>. Use
        <command>&dapscmd;&nbsp;list-srcfiles&nbsp;--nodc&nbsp;--noent&nbsp;--noimg</command> instead. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; xml-graphics-bw</command>. This command is no
        longer supported. </para>
      </listitem>
      <listitem>
       <para>
        <command>&dapscmd; xmlgraphics</command>. This command is no longer
        supported.</para>
      </listitem>
     </itemizedlist>
    </listitem>
  </varlistentry>
   
   
   
   
  </variablelist>
 </sect1>


 <sect1 id="sec.user.docupdates.maint1">
  <title>2013-10-10 (Maintenance Release)</title>
  <variablelist>
   <varlistentry>
    <term><xref linkend="cha.daps.user.modular" xrefstyle="select:title"/></term>
    <listitem>
     <para>Chapter has been revised.</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><xref linkend="cha.daps.user.review" xrefstyle="select:title"/></term>
    <listitem>
     <para>Major content has been added.</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><xref linkend="cha.daps.user.deploy" xrefstyle="select:title"/></term>
    <listitem>
     <para>Major content has been added.</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><xref linkend="cha.daps.user.layout" xrefstyle="select:title"/></term>
    <listitem>
     <para>Major content has been added.</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><xref linkend="cha.daps.user.trouble" xrefstyle="select:title"/></term>
    <listitem>
     <para>Some additions and changes.</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><xref linkend="cha.daps.user.config" xrefstyle="select:title"/></term>
    <listitem>
     <para>An example of &dapsconf-sys; has been added.</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><xref linkend="app.daps.user.docupdates"/></term>
    <listitem>
     <para>An overview of the main documentation updates has been added. </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Whole Document</term>
    <listitem>
     <para>Various small improvements throughout the document.</para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
</appendix>
